{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/danish/codeplayground/GMBserp/src/components/ui/index.tsx"],"sourcesContent":["import { cva, type VariantProps } from 'class-variance-authority';\nimport { forwardRef } from 'react';\nimport { Slot } from '@radix-ui/react-slot';\nimport { Loader2 } from 'lucide-react';\n\n// ============= BUTTON =============\nconst buttonVariants = cva(\n    'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\n    {\n        variants: {\n            variant: {\n                default: 'bg-blue-600 text-white hover:bg-blue-700 shadow-sm',\n                secondary: 'bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 hover:text-gray-900 shadow-sm',\n                outline: 'border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50',\n                ghost: 'text-gray-600 hover:text-gray-900 hover:bg-gray-100',\n                destructive: 'bg-red-600 text-white hover:bg-red-700',\n                link: 'text-blue-600 underline-offset-4 hover:underline',\n            },\n            size: {\n                default: 'h-10 px-4 py-2',\n                sm: 'h-9 px-3 text-xs',\n                lg: 'h-11 px-8 text-base',\n                icon: 'h-10 w-10',\n            },\n        },\n        defaultVariants: {\n            variant: 'default',\n            size: 'default',\n        },\n    }\n);\n\nexport interface ButtonProps\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n    asChild?: boolean;\n    isLoading?: boolean;\n}\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n    ({ className, variant, size, asChild = false, isLoading = false, children, ...props }, ref) => {\n        const Comp = asChild ? Slot : 'button';\n        return (\n            <Comp\n                className={buttonVariants({ variant, size, className })}\n                ref={ref}\n                disabled={isLoading || props.disabled}\n                {...props}\n            >\n                {isLoading && <Loader2 className=\"w-4 h-4 animate-spin\" />}\n                {children}\n            </Comp>\n        );\n    }\n);\nButton.displayName = 'Button';\n\n// ============= CARD =============\nexport function Card({\n    children,\n    className = '',\n    noPadding = false,\n}: {\n    children: React.ReactNode;\n    className?: string;\n    noPadding?: boolean;\n}) {\n    return (\n        <div className={`bg-white border border-gray-200 rounded-xl card-shadow ${className}`}>\n            {noPadding ? children : <div className=\"p-6\">{children}</div>}\n        </div>\n    );\n}\n\n// ============= BADGE =============\nconst badgeVariants = cva(\n    'inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n    {\n        variants: {\n            variant: {\n                default: 'bg-gray-100 text-gray-600 border border-gray-200',\n                success: 'bg-green-50 text-green-700 border border-green-200',\n                warning: 'bg-yellow-50 text-yellow-700 border border-yellow-200',\n                destructive: 'bg-red-50 text-red-700 border border-red-200',\n                blue: 'bg-blue-50 text-blue-700 border border-blue-200',\n                outline: 'bg-transparent text-gray-400 border border-gray-200',\n            },\n        },\n        defaultVariants: {\n            variant: 'default',\n        },\n    }\n);\n\nexport function Badge({ children, variant, className }: { children: React.ReactNode, variant?: VariantProps<typeof badgeVariants>['variant'], className?: string }) {\n    return (\n        <span className={badgeVariants({ variant, className })}>\n            {children}\n        </span>\n    );\n}\n\n// ============= INPUT =============\nexport const Input = forwardRef<\n    HTMLInputElement,\n    React.InputHTMLAttributes<HTMLInputElement> & { icon?: React.ReactNode }\n>(({ className, icon, ...props }, ref) => {\n    return (\n        <div className=\"relative\">\n            {icon && (\n                <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\">\n                    {icon}\n                </div>\n            )}\n            <input\n                className={`\n          flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 \n          file:border-0 file:bg-transparent file:text-sm file:font-medium \n          placeholder:text-gray-400 \n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\n          disabled:cursor-not-allowed disabled:opacity-50\n          transition-all duration-200\n          ${icon ? 'pl-10' : ''}\n          ${className}\n        `}\n                ref={ref}\n                {...props}\n            />\n        </div>\n    );\n});\nInput.displayName = 'Input';\n\n// ============= SELECT =============\nexport const Select = forwardRef<\n    HTMLSelectElement,\n    React.SelectHTMLAttributes<HTMLSelectElement> & { icon?: React.ReactNode }\n>(({ className, icon, children, ...props }, ref) => {\n    return (\n        <div className=\"relative\">\n            {icon && (\n                <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none z-10\">\n                    {icon}\n                </div>\n            )}\n            <select\n                className={`\n          flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\n          disabled:cursor-not-allowed disabled:opacity-50\n          appearance-none cursor-pointer\n          ${icon ? 'pl-10' : ''}\n          ${className}\n        `}\n                ref={ref}\n                {...props}\n            >\n                {children}\n            </select>\n            <div className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none\">\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n            </div>\n        </div>\n    );\n});\nSelect.displayName = 'Select';\n\n// ============= PROGRESS =============\nexport function Progress({\n    value,\n    max = 100,\n    size = 'default',\n    color = 'blue'\n}: {\n    value: number;\n    max?: number;\n    size?: 'sm' | 'default';\n    color?: 'green' | 'blue' | 'yellow' | 'red';\n}) {\n    const percentage = Math.round((value / max) * 100);\n    const h = size === 'sm' ? 'h-1.5' : 'h-2.5';\n    const bg = {\n        green: 'bg-green-500',\n        blue: 'bg-blue-600',\n        yellow: 'bg-yellow-500',\n        red: 'bg-red-500',\n    }[color];\n\n    return (\n        <div className={`w-full bg-gray-100 rounded-full overflow-hidden ${h}`}>\n            <div\n                className={`${h} ${bg} rounded-full transition-all duration-500 ease-out`}\n                style={{ width: `${percentage}%` }}\n            />\n        </div>\n    );\n}\n\n// ============= SKELETON =============\nexport function Skeleton({ className }: { className?: string }) {\n    return (\n        <div className={`animate-pulse bg-gray-200 rounded-md ${className}`} />\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///Users/danish/codeplayground/GMBserp/src/lib/export.ts"],"sourcesContent":["import ExcelJS from 'exceljs';\nimport jsPDF from 'jspdf';\nimport autoTable from 'jspdf-autotable';\n\nexport async function exportToXLSX(scanName: string, data: any[]) {\n    const workbook = new ExcelJS.Workbook();\n    addScanToWorkbook(workbook, scanName, data);\n\n    const buffer = await workbook.xlsx.writeBuffer();\n    const blob = new Blob([buffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${scanName.replace(/\\s+/g, '_')}_results.xlsx`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n}\n\nfunction addScanToWorkbook(workbook: ExcelJS.Workbook, scanName: string, data: any[]) {\n    const sheetName = scanName.substring(0, 31).replace(/[\\\\\\/\\?\\*\\[\\]]/g, '_');\n    const worksheet = workbook.addWorksheet(sheetName);\n\n    worksheet.columns = [\n        { header: 'Rank', key: 'rank', width: 10 },\n        { header: 'Business Name', key: 'name', width: 40 },\n        { header: 'Rating', key: 'rating', width: 10 },\n        { header: 'Reviews', key: 'reviews', width: 10 },\n        { header: 'Address', key: 'address', width: 60 },\n        { header: 'URL', key: 'url', width: 80 },\n        { header: 'Point Lat', key: 'lat', width: 15 },\n        { header: 'Point Lng', key: 'lng', width: 15 },\n    ];\n\n    data.forEach(point => {\n        try {\n            const results = JSON.parse(point.topResults);\n            results.forEach((res: any) => {\n                worksheet.addRow({\n                    rank: res.rank,\n                    name: res.name,\n                    rating: res.rating || 'N/A',\n                    reviews: res.reviews || 0,\n                    address: res.address || '',\n                    url: res.url || '',\n                    lat: point.lat,\n                    lng: point.lng\n                });\n            });\n        } catch (e) {\n            console.error('Failed to parse results for excel export', e);\n        }\n    });\n}\n\nexport async function exportAllScansToXLSX(scans: any[]) {\n    const workbook = new ExcelJS.Workbook();\n\n    // Summary sheet first\n    const summarySheet = workbook.addWorksheet('All Scans Summary');\n    summarySheet.columns = [\n        { header: 'Keyword', key: 'keyword', width: 30 },\n        { header: 'Status', key: 'status', width: 15 },\n        { header: 'Grid Size', key: 'gridSize', width: 10 },\n        { header: 'Radius', key: 'radius', width: 10 },\n        { header: 'Created At', key: 'createdAt', width: 25 },\n        { header: 'Center Lat', key: 'centerLat', width: 15 },\n        { header: 'Center Lng', key: 'centerLng', width: 15 },\n    ];\n\n    scans.forEach(scan => {\n        summarySheet.addRow({\n            keyword: scan.keyword,\n            status: scan.status,\n            gridSize: `${scan.gridSize}x${scan.gridSize}`,\n            radius: `${scan.radius}km`,\n            createdAt: new Date(scan.createdAt).toLocaleString(),\n            centerLat: scan.centerLat,\n            centerLng: scan.centerLng\n        });\n\n        if (scan.results && scan.results.length > 0) {\n            addScanToWorkbook(workbook, scan.keyword, scan.results);\n        }\n    });\n\n    const buffer = await workbook.xlsx.writeBuffer();\n    const blob = new Blob([buffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `GeoRanker_All_Scans_${new Date().toISOString().split('T')[0]}.xlsx`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n}\n\nexport async function exportToPDF(scanName: string, data: any[]) {\n    const doc = new jsPDF();\n\n    doc.setFontSize(20);\n    doc.text(`GeoRanker Report: ${scanName}`, 14, 22);\n\n    doc.setFontSize(11);\n    doc.setTextColor(100);\n    doc.text(`Generated on: ${new Date().toLocaleString()}`, 14, 30);\n\n    const tableData: any[][] = [];\n    data.forEach(point => {\n        try {\n            const results = JSON.parse(point.topResults);\n            results.forEach((res: any) => {\n                tableData.push([\n                    res.rank,\n                    res.name,\n                    `${point.lat.toFixed(4)}, ${point.lng.toFixed(4)}`,\n                    res.address || ''\n                ]);\n            });\n        } catch (e) { }\n    });\n\n    autoTable(doc, {\n        head: [['Rank', 'Business', 'Coordinate', 'Address']],\n        body: tableData,\n        startY: 35,\n        theme: 'striped',\n        headStyles: { fillColor: [37, 99, 235] },\n        styles: { fontSize: 8 }\n    });\n\n    doc.save(`${scanName.replace(/\\s+/g, '_')}_report.pdf`);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 506, "column": 0}, "map": {"version":3,"sources":["file:///Users/danish/codeplayground/GMBserp/src/components/scans/ScanHeader.tsx"],"sourcesContent":["import { Badge, Button } from '@/components/ui';\nimport { Download, Share2, StopCircle, Trash2, MapPin, Calendar, ChevronLeft, RefreshCw } from 'lucide-react';\nimport Link from 'next/link';\n\ninterface ScanHeaderProps {\n    scan: any;\n    onStop: () => void;\n    onRerun: () => void;\n    onDelete: () => void;\n    onExportXLSX: () => void;\n    onExportPDF: () => void;\n    onShare: () => void;\n}\n\nexport function ScanHeader({ scan, onStop, onRerun, onDelete, onExportXLSX, onExportPDF, onShare }: ScanHeaderProps) {\n    return (\n        <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-4\">\n                <Link href=\"/scans\" className=\"w-8 h-8 rounded-full bg-white border border-gray-200 flex items-center justify-center hover:bg-gray-50 transition-colors\">\n                    <ChevronLeft size={16} className=\"text-gray-600\" />\n                </Link>\n                <div>\n                    <div className=\"flex items-center gap-3 mb-2\">\n                        <div className=\"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center text-white shadow-lg shadow-blue-200\">\n                            <MapPin size={20} />\n                        </div>\n                        <h1 className=\"text-2xl font-black text-gray-900 flex items-center gap-3 uppercase tracking-tight\">\n                            {scan.keyword}\n                        </h1>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                        <Badge variant={scan.status === 'COMPLETED' ? 'success' : 'blue'} className=\"font-bold text-[10px] uppercase\">{scan.status}</Badge>\n                        <p className=\"text-xs text-gray-500 font-medium flex items-center gap-4\">\n                            <span className=\"flex items-center gap-1.5\"><MapPin size={12} className=\"text-blue-500\" /> {scan.centerLat.toFixed(4)}, {scan.centerLng.toFixed(4)}</span>\n                            <span className=\"flex items-center gap-1.5\"><Calendar size={12} className=\"text-blue-500\" /> {new Date(scan.createdAt).toDateString()}</span>\n                        </p>\n                    </div>\n                </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n                <Button variant=\"outline\" size=\"sm\" onClick={onRerun} className=\"bg-emerald-50 text-emerald-600 border-emerald-200 hover:bg-emerald-100 font-bold\">\n                    <RefreshCw size={14} className=\"mr-2\" /> Rerun\n                </Button>\n                {(scan.status === 'RUNNING' || scan.status === 'PENDING') && (\n                    <Button variant=\"destructive\" size=\"sm\" onClick={onStop}>\n                        <StopCircle size={14} className=\"mr-2\" /> Stop Scan\n                    </Button>\n                )}\n                <Button variant=\"outline\" size=\"sm\" onClick={onDelete} className=\"text-red-500 hover:text-red-700 hover:bg-red-50 border-red-200\">\n                    <Trash2 size={14} className=\"mr-2\" /> Delete\n                </Button>\n                <div className=\"flex gap-1\">\n                    <Button variant=\"outline\" size=\"sm\" onClick={onExportXLSX}>\n                        <Download size={14} className=\"mr-2\" /> XLSX\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\" onClick={onExportPDF}>\n                        <Download size={14} className=\"mr-2\" /> PDF\n                    </Button>\n                </div>\n                <Button variant=\"outline\" size=\"sm\" onClick={onShare}><Share2 size={14} className=\"mr-2\" /> Share</Button>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;AAYO,SAAS,WAAW,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,OAAO,EAAmB;IAC/G,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,0KAAI;wBAAC,MAAK;wBAAS,WAAU;kCAC1B,cAAA,6LAAC,sOAAW;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;kCAErC,6LAAC;;0CACG,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;kDACX,cAAA,6LAAC,uNAAM;4CAAC,MAAM;;;;;;;;;;;kDAElB,6LAAC;wCAAG,WAAU;kDACT,KAAK,OAAO;;;;;;;;;;;;0CAGrB,6LAAC;gCAAI,WAAU;;kDACX,6LAAC,6IAAK;wCAAC,SAAS,KAAK,MAAM,KAAK,cAAc,YAAY;wCAAQ,WAAU;kDAAmC,KAAK,MAAM;;;;;;kDAC1H,6LAAC;wCAAE,WAAU;;0DACT,6LAAC;gDAAK,WAAU;;kEAA4B,6LAAC,uNAAM;wDAAC,MAAM;wDAAI,WAAU;;;;;;oDAAkB;oDAAE,KAAK,SAAS,CAAC,OAAO,CAAC;oDAAG;oDAAG,KAAK,SAAS,CAAC,OAAO,CAAC;;;;;;;0DAChJ,6LAAC;gDAAK,WAAU;;kEAA4B,6LAAC,yNAAQ;wDAAC,MAAM;wDAAI,WAAU;;;;;;oDAAkB;oDAAE,IAAI,KAAK,KAAK,SAAS,EAAE,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAKnJ,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,8IAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAK,SAAS;wBAAS,WAAU;;0CAC5D,6LAAC,gOAAS;gCAAC,MAAM;gCAAI,WAAU;;;;;;4BAAS;;;;;;;oBAE3C,CAAC,KAAK,MAAM,KAAK,aAAa,KAAK,MAAM,KAAK,SAAS,mBACpD,6LAAC,8IAAM;wBAAC,SAAQ;wBAAc,MAAK;wBAAK,SAAS;;0CAC7C,6LAAC,mOAAU;gCAAC,MAAM;gCAAI,WAAU;;;;;;4BAAS;;;;;;;kCAGjD,6LAAC,8IAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAK,SAAS;wBAAU,WAAU;;0CAC7D,6LAAC,uNAAM;gCAAC,MAAM;gCAAI,WAAU;;;;;;4BAAS;;;;;;;kCAEzC,6LAAC;wBAAI,WAAU;;0CACX,6LAAC,8IAAM;gCAAC,SAAQ;gCAAU,MAAK;gCAAK,SAAS;;kDACzC,6LAAC,yNAAQ;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAS;;;;;;;0CAE3C,6LAAC,8IAAM;gCAAC,SAAQ;gCAAU,MAAK;gCAAK,SAAS;;kDACzC,6LAAC,yNAAQ;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAS;;;;;;;;;;;;;kCAG/C,6LAAC,8IAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAK,SAAS;;0CAAS,6LAAC,uNAAM;gCAAC,MAAM;gCAAI,WAAU;;;;;;4BAAS;;;;;;;;;;;;;;;;;;;AAI3G;KAjDgB"}},
    {"offset": {"line": 817, "column": 0}, "map": {"version":3,"sources":["file:///Users/danish/codeplayground/GMBserp/src/components/scans/AIInsights.tsx"],"sourcesContent":["import { Card } from '@/components/ui';\nimport { TrendingUp } from 'lucide-react';\n\ninterface AIInsightsProps {\n    avgRank: number;\n    scan: any;\n    totalPoints: number;\n    competitors: any[];\n}\n\nexport function AIInsights({ avgRank, scan, totalPoints, competitors }: AIInsightsProps) {\n    return (\n        <div>\n            <Card className=\"p-8 bg-white relative overflow-hidden border border-indigo-100 shadow-xl shadow-indigo-500/5\">\n                <div className=\"relative z-10 flex flex-col md:flex-row gap-8 items-start\">\n                    <div className=\"shrink-0 flex flex-col items-center text-center md:items-start md:text-left\">\n                        <div className=\"w-12 h-12 rounded-2xl bg-indigo-50 flex items-center justify-center shadow-sm text-indigo-600 mb-3 border border-indigo-100\">\n                            <TrendingUp size={24} />\n                        </div>\n                        <h3 className=\"text-lg font-black text-gray-900 uppercase tracking-tight\">Algorithmic Analysis</h3>\n                        <p className=\"text-xs text-gray-400 font-bold uppercase tracking-widest mt-1\">Heuristic Performance Metrics</p>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 flex-1 w-full\">\n                        {/* Observation 1: Market Position */}\n                        <div className=\"p-5 bg-gray-50 rounded-xl border border-gray-100 hover:border-indigo-200 transition-colors\">\n                            <div className=\"flex items-center gap-2 mb-3\">\n                                <div className=\"w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-sm shadow-emerald-500/50\" />\n                                <span className=\"text-[10px] font-black text-gray-500 uppercase tracking-widest\">Market Dominance</span>\n                            </div>\n                            <p className=\"text-xs font-medium leading-relaxed text-gray-700\">\n                                {avgRank <= 5\n                                    ? \"You are effectively colonizing the top SERP positions in this radius. Your proximity-to-rank ratio is highly optimized.\"\n                                    : avgRank <= 12\n                                        ? \"Strong presence detected, but fringe zones are susceptible to local pack displacement. Focus on localized citations.\"\n                                        : \"Visibility is currently limited to high-proximity clusters. Expansion requires aggressive keyword-velocity increases.\"}\n                            </p>\n                        </div>\n\n                        {/* Observation 2: Dead Zones */}\n                        <div className=\"p-5 bg-gray-50 rounded-xl border border-gray-100 hover:border-indigo-200 transition-colors\">\n                            <div className=\"flex items-center gap-2 mb-3\">\n                                <div className=\"w-1.5 h-1.5 rounded-full bg-amber-500 shadow-sm shadow-amber-500/50\" />\n                                <span className=\"text-[10px] font-black text-gray-500 uppercase tracking-widest\">Geographic Health</span>\n                            </div>\n                            <p className=\"text-xs font-medium leading-relaxed text-gray-700\">\n                                {scan.results.filter((r: any) => !r.rank).length > (totalPoints * 0.4)\n                                    ? \"Critical 'Dead Zones' detected in over 40% of the grid. Competitors are out-leveraging your business in peripheral sectors.\"\n                                    : \"Your coverage is relatively uniform. No major 'Black Hole' zones detected within the current scan radius.\"}\n                            </p>\n                        </div>\n\n                        {/* Observation 3: Opportunity */}\n                        <div className=\"p-5 bg-gray-50 rounded-xl border border-gray-100 hover:border-indigo-200 transition-colors\">\n                            <div className=\"flex items-center gap-2 mb-3\">\n                                <div className=\"w-1.5 h-1.5 rounded-full bg-blue-500 shadow-sm shadow-blue-500/50\" />\n                                <span className=\"text-[10px] font-black text-gray-500 uppercase tracking-widest\">Competitive Threat</span>\n                            </div>\n                            <p className=\"text-xs font-medium leading-relaxed text-gray-700\">\n                                {competitors && competitors.length > 0\n                                    ? `Main threat: '${competitors[0].name}' dominates ${((competitors[0].appearances / totalPoints) * 100).toFixed(0)}% of the grid. Analyze their citation profile for local pack displacement strategy.`\n                                    : \"No major competitors detected within the Top 20 across the grid. You are virtually unchallenged in this keyword sector.\"}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </Card>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AASO,SAAS,WAAW,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,WAAW,EAAmB;IACnF,qBACI,6LAAC;kBACG,cAAA,6LAAC,4IAAI;YAAC,WAAU;sBACZ,cAAA,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC,mOAAU;oCAAC,MAAM;;;;;;;;;;;0CAEtB,6LAAC;gCAAG,WAAU;0CAA4D;;;;;;0CAC1E,6LAAC;gCAAE,WAAU;0CAAiE;;;;;;;;;;;;kCAGlF,6LAAC;wBAAI,WAAU;;0CAEX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAI,WAAU;;;;;;0DACf,6LAAC;gDAAK,WAAU;0DAAiE;;;;;;;;;;;;kDAErF,6LAAC;wCAAE,WAAU;kDACR,WAAW,IACN,4HACA,WAAW,KACP,yHACA;;;;;;;;;;;;0CAKlB,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAI,WAAU;;;;;;0DACf,6LAAC;gDAAK,WAAU;0DAAiE;;;;;;;;;;;;kDAErF,6LAAC;wCAAE,WAAU;kDACR,KAAK,OAAO,CAAC,MAAM,CAAC,CAAC,IAAW,CAAC,EAAE,IAAI,EAAE,MAAM,GAAI,cAAc,MAC5D,gIACA;;;;;;;;;;;;0CAKd,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAI,WAAU;;;;;;0DACf,6LAAC;gDAAK,WAAU;0DAAiE;;;;;;;;;;;;kDAErF,6LAAC;wCAAE,WAAU;kDACR,eAAe,YAAY,MAAM,GAAG,IAC/B,CAAC,cAAc,EAAE,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,AAAC,WAAW,CAAC,EAAE,CAAC,WAAW,GAAG,cAAe,GAAG,EAAE,OAAO,CAAC,GAAG,mFAAmF,CAAC,GACrM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQtC;KA3DgB"}},
    {"offset": {"line": 1032, "column": 0}, "map": {"version":3,"sources":["file:///Users/danish/codeplayground/GMBserp/src/components/scans/BusinessCard.tsx"],"sourcesContent":["import { ExternalLink, MapPin } from 'lucide-react';\n\ninterface BusinessCardProps {\n    biz: {\n        name: string;\n        rank: number;\n        rating?: number;\n        reviews?: number;\n        address?: string;\n        url?: string;\n    };\n    scan: {\n        businessName?: string;\n    };\n    compact?: boolean;\n}\n\nexport function BusinessCard({ biz, scan, compact = false }: BusinessCardProps) {\n    return (\n        <a\n            href={biz.url || '#'}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className={`\n                group block bg-white rounded-xl ring-1 ring-gray-200 hover:ring-blue-500/50 hover:shadow-md transition-all relative overflow-hidden\n                ${compact ? 'p-2.5' : 'p-4'}\n                ${scan.businessName && biz.name.toLowerCase().includes(scan.businessName.toLowerCase()) ? 'ring-2 ring-blue-600 ring-offset-2' : ''}\n            `}\n        >\n            {/* Card Header */}\n            <div className=\"flex items-start justify-between mb-1.5\">\n                <span className={`\n                    rounded-lg font-black flex items-center justify-center shrink-0\n                    ${compact ? 'text-[9px] px-1.5 py-0.5 h-6 min-w-[1.5rem]' : 'w-7 h-7 text-xs'}\n                    ${biz.rank <= 3 ? 'bg-emerald-500 text-white shadow-sm shadow-emerald-500/20' : 'bg-gray-100 text-gray-500'}\n                `}>\n                    #{biz.rank}\n                </span>\n                <ExternalLink size={compact ? 12 : 14} className=\"text-gray-300 group-hover:text-blue-500 transition-colors\" />\n            </div>\n\n            {/* Business Name */}\n            <p className={`\n                font-black text-gray-900 group-hover:text-blue-600 transition-colors leading-tight uppercase line-clamp-2\n                ${compact ? 'text-[11px] mb-2 min-h-[28px]' : 'text-sm mb-2'}\n            `}>\n                {biz.name}\n            </p>\n\n            {/* Ratings */}\n            <div className={`flex items-center gap-1.5 ${compact ? 'mb-2' : 'mb-3'}`}>\n                <div className=\"flex items-center gap-0.5 bg-amber-50 px-1.5 py-0.5 rounded text-amber-600 border border-amber-100\">\n                    <span className=\"text-[10px] font-black\">{biz.rating || '0.0'}</span>\n                    <span className=\"text-[8px]\">â˜…</span>\n                </div>\n                <span className=\"text-[10px] text-gray-400 font-bold\">({biz.reviews || 0} reviews)</span>\n            </div>\n\n            {/* Address / SAB */}\n            <div className={`flex items-start gap-2 border-t border-gray-50 ${compact ? 'pt-2' : 'pt-3 mt-auto'}`}>\n                <MapPin size={10} className=\"text-blue-500/60 shrink-0 mt-0.5\" />\n                <span className=\"text-[10px] text-gray-500 font-medium truncate uppercase\">\n                    {biz.address ? biz.address : 'Service Area Business'}\n                </span>\n            </div>\n\n            {/* Target Account Badge */}\n            {scan.businessName && biz.name.toLowerCase().includes(scan.businessName.toLowerCase()) && !compact && (\n                <div className=\"mt-3 bg-blue-600 text-[9px] font-black text-white py-1.5 px-3 rounded-xl uppercase tracking-[2px] text-center shadow-lg shadow-blue-500/30\">\n                    Target Account Linked\n                </div>\n            )}\n        </a>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;;;AAiBO,SAAS,aAAa,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,KAAK,EAAqB;IAC1E,qBACI,6LAAC;QACG,MAAM,IAAI,GAAG,IAAI;QACjB,QAAO;QACP,KAAI;QACJ,WAAW,CAAC;;gBAER,EAAE,UAAU,UAAU,MAAM;gBAC5B,EAAE,KAAK,YAAY,IAAI,IAAI,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,KAAK,YAAY,CAAC,WAAW,MAAM,uCAAuC,GAAG;YACxI,CAAC;;0BAGD,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAK,WAAW,CAAC;;oBAEd,EAAE,UAAU,gDAAgD,kBAAkB;oBAC9E,EAAE,IAAI,IAAI,IAAI,IAAI,8DAA8D,4BAA4B;gBAChH,CAAC;;4BAAE;4BACG,IAAI,IAAI;;;;;;;kCAEd,6LAAC,yOAAY;wBAAC,MAAM,UAAU,KAAK;wBAAI,WAAU;;;;;;;;;;;;0BAIrD,6LAAC;gBAAE,WAAW,CAAC;;gBAEX,EAAE,UAAU,kCAAkC,eAAe;YACjE,CAAC;0BACI,IAAI,IAAI;;;;;;0BAIb,6LAAC;gBAAI,WAAW,CAAC,0BAA0B,EAAE,UAAU,SAAS,QAAQ;;kCACpE,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAK,WAAU;0CAA0B,IAAI,MAAM,IAAI;;;;;;0CACxD,6LAAC;gCAAK,WAAU;0CAAa;;;;;;;;;;;;kCAEjC,6LAAC;wBAAK,WAAU;;4BAAsC;4BAAE,IAAI,OAAO,IAAI;4BAAE;;;;;;;;;;;;;0BAI7E,6LAAC;gBAAI,WAAW,CAAC,+CAA+C,EAAE,UAAU,SAAS,gBAAgB;;kCACjG,6LAAC,uNAAM;wBAAC,MAAM;wBAAI,WAAU;;;;;;kCAC5B,6LAAC;wBAAK,WAAU;kCACX,IAAI,OAAO,GAAG,IAAI,OAAO,GAAG;;;;;;;;;;;;YAKpC,KAAK,YAAY,IAAI,IAAI,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,KAAK,YAAY,CAAC,WAAW,OAAO,CAAC,yBACvF,6LAAC;gBAAI,WAAU;0BAA6I;;;;;;;;;;;;AAM5K;KAzDgB"}},
    {"offset": {"line": 1191, "column": 0}, "map": {"version":3,"sources":["file:///Users/danish/codeplayground/GMBserp/src/components/scans/PinInspectionSidebar.tsx"],"sourcesContent":["import { Card, Badge } from '@/components/ui';\nimport { Store, MapPin, List, Activity, Target } from 'lucide-react';\nimport { BusinessCard } from '@/components/scans/BusinessCard';\n\ninterface PinInspectionSidebarProps {\n    selectedPoint: any;\n    getTopResults: (jsonStr: string) => any[];\n    scan: any;\n}\n\nexport function PinInspectionSidebar({ selectedPoint, getTopResults, scan }: PinInspectionSidebarProps) {\n    return (\n        <div className=\"sticky top-6\">\n            <Card noPadding className=\"h-[85vh] flex flex-col p-0 overflow-hidden shadow-xl ring-1 ring-gray-200 border-none\">\n                <div className=\"p-2.5 border-b border-gray-100 bg-blue-600 text-white shrink-0 z-20 relative\">\n                    <h3 className=\"font-bold flex items-center gap-2\">\n                        <Store size={18} />\n                        Pin Inspection\n                    </h3>\n                    <p className=\"text-[10px] text-blue-100 mt-1 uppercase font-bold tracking-widest\">Deep coordinate analysis</p>\n                </div>\n\n                <div className=\"flex-1 min-h-0 overflow-y-auto bg-white relative\">\n                    {selectedPoint ? (\n                        <div className=\"p-3 space-y-4 pb-24\">\n                            <div className=\"flex justify-between items-center bg-indigo-50 p-3 rounded-xl border border-indigo-100 shadow-sm relative overflow-hidden\">\n                                <div className=\"relative z-10\">\n                                    <p className=\"text-[9px] text-indigo-600 font-black uppercase tracking-[2px] mb-0.5\">Target Rank</p>\n                                    <p className=\"text-2xl font-black text-indigo-900 tracking-tighter\">#{selectedPoint.rank ?? '-'}</p>\n                                </div>\n                                <div className=\"text-right relative z-10\">\n                                    <p className=\"text-[9px] text-indigo-400 font-black uppercase tracking-widest mb-1\">Geospatial Data</p>\n                                    <p className=\"text-[10px] font-black text-indigo-800 font-mono tracking-tighter bg-white/50 px-1.5 py-0.5 rounded-md\">{selectedPoint.lat.toFixed(6)}</p>\n                                    <p className=\"text-[10px] font-black text-indigo-800 font-mono tracking-tighter bg-white/50 px-1.5 py-0.5 rounded-md mt-1\">{selectedPoint.lng.toFixed(6)}</p>\n                                </div>\n                                <div className=\"absolute -left-2 -bottom-2 opacity-[0.05] text-indigo-900 pointer-events-none\">\n                                    <MapPin size={50} />\n                                </div>\n                            </div>\n\n                            <div className=\"space-y-4\">\n                                <div className=\"flex items-center justify-between px-1\">\n                                    <h4 className=\"text-[11px] font-black text-gray-400 uppercase tracking-[3px] flex items-center gap-2\">\n                                        <List size={12} className=\"text-blue-600\" />\n                                        Point Specific SERP\n                                    </h4>\n                                    <Badge variant=\"blue\" className=\"font-black text-[9px] uppercase tracking-widest bg-blue-600 text-white border-none\">{getTopResults(selectedPoint.topResults).length} Detected</Badge>\n                                </div>\n\n                                <div className=\"space-y-3\">\n                                    {getTopResults(selectedPoint.topResults).length > 0 ? (\n                                        getTopResults(selectedPoint.topResults).map((biz, idx) => (\n                                            <BusinessCard\n                                                key={idx}\n                                                biz={biz}\n                                                scan={scan}\n                                                compact={true}\n                                            />\n                                        ))\n                                    ) : (\n                                        <div className=\"py-24 text-center\">\n                                            <div className=\"w-16 h-16 bg-gray-50 rounded-2xl flex items-center justify-center mx-auto mb-4 ring-1 ring-gray-100\">\n                                                <Activity className=\"text-gray-200\" size={32} />\n                                            </div>\n                                            <p className=\"text-[11px] font-black uppercase tracking-[3px] text-gray-300\">Analysis Pending</p>\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    ) : (\n                        <div className=\"h-full flex flex-col items-center justify-center p-12 text-center text-gray-400\">\n                            <div className=\"w-24 h-24 rounded-[2rem] bg-gray-50 flex items-center justify-center mb-8 shadow-inner ring-1 ring-gray-100\">\n                                <Target size={48} className=\"opacity-[0.05]\" />\n                            </div>\n                            <h4 className=\"text-[12px] font-black uppercase tracking-[4px] text-gray-500 mb-3\">Spatial Inspection</h4>\n                            <p className=\"text-[11px] leading-relaxed max-w-[260px] font-medium text-gray-400/80\">\n                                Select any grid coordinate on the map to initialize a deep-dive SERP inspection.\n                            </p>\n                        </div>\n                    )}\n                </div>\n            </Card>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;AAQO,SAAS,qBAAqB,EAAE,aAAa,EAAE,aAAa,EAAE,IAAI,EAA6B;IAClG,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC,4IAAI;YAAC,SAAS;YAAC,WAAU;;8BACtB,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAG,WAAU;;8CACV,6LAAC,gNAAK;oCAAC,MAAM;;;;;;gCAAM;;;;;;;sCAGvB,6LAAC;4BAAE,WAAU;sCAAqE;;;;;;;;;;;;8BAGtF,6LAAC;oBAAI,WAAU;8BACV,8BACG,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAE,WAAU;0DAAwE;;;;;;0DACrF,6LAAC;gDAAE,WAAU;;oDAAuD;oDAAE,cAAc,IAAI,IAAI;;;;;;;;;;;;;kDAEhG,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAE,WAAU;0DAAuE;;;;;;0DACpF,6LAAC;gDAAE,WAAU;0DAA0G,cAAc,GAAG,CAAC,OAAO,CAAC;;;;;;0DACjJ,6LAAC;gDAAE,WAAU;0DAA+G,cAAc,GAAG,CAAC,OAAO,CAAC;;;;;;;;;;;;kDAE1J,6LAAC;wCAAI,WAAU;kDACX,cAAA,6LAAC,uNAAM;4CAAC,MAAM;;;;;;;;;;;;;;;;;0CAItB,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAG,WAAU;;kEACV,6LAAC,6MAAI;wDAAC,MAAM;wDAAI,WAAU;;;;;;oDAAkB;;;;;;;0DAGhD,6LAAC,6IAAK;gDAAC,SAAQ;gDAAO,WAAU;;oDAAsF,cAAc,cAAc,UAAU,EAAE,MAAM;oDAAC;;;;;;;;;;;;;kDAGzK,6LAAC;wCAAI,WAAU;kDACV,cAAc,cAAc,UAAU,EAAE,MAAM,GAAG,IAC9C,cAAc,cAAc,UAAU,EAAE,GAAG,CAAC,CAAC,KAAK,oBAC9C,6LAAC,8JAAY;gDAET,KAAK;gDACL,MAAM;gDACN,SAAS;+CAHJ;;;;sEAOb,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDAAI,WAAU;8DACX,cAAA,6LAAC,yNAAQ;wDAAC,WAAU;wDAAgB,MAAM;;;;;;;;;;;8DAE9C,6LAAC;oDAAE,WAAU;8DAAgE;;;;;;;;;;;;;;;;;;;;;;;;;;;;6CAOjG,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC,mNAAM;oCAAC,MAAM;oCAAI,WAAU;;;;;;;;;;;0CAEhC,6LAAC;gCAAG,WAAU;0CAAqE;;;;;;0CACnF,6LAAC;gCAAE,WAAU;0CAAyE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlH;KA3EgB"}},
    {"offset": {"line": 1504, "column": 0}, "map": {"version":3,"sources":["file:///Users/danish/codeplayground/GMBserp/src/app/scans/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, use } from 'react';\nimport dynamic from 'next/dynamic';\nimport { RefreshCw, Trophy, List, ChevronLeft, ChevronRight, ExternalLink, MapPin } from 'lucide-react';\nimport { useRouter } from 'next/navigation';\nimport { Card, Button, Badge, Input } from '@/components/ui';\nimport { exportToXLSX, exportToPDF } from '@/lib/export';\nimport { ScanHeader } from '@/components/scans/ScanHeader';\nimport { AIInsights } from '@/components/scans/AIInsights';\nimport { PinInspectionSidebar } from '@/components/scans/PinInspectionSidebar';\nimport { BusinessCard } from '@/components/scans/BusinessCard';\n\n// Dynamically import Map component to avoid SSR issues with Leaflet\nconst MapComponent = dynamic(() => import('@/components/ui/Map'), {\n    ssr: false,\n    loading: () => (\n        <div className=\"h-full w-full flex items-center justify-center bg-gray-100\">\n            <RefreshCw className=\"w-8 h-8 text-gray-400 animate-spin\" />\n        </div>\n    ),\n});\n\ninterface Result {\n    id: string;\n    lat: number;\n    lng: number;\n    rank: number | null;\n    topResults: string; // JSON string\n}\n\ninterface Scan {\n    id: string;\n    keyword: string;\n    status: string;\n    gridSize: number;\n    radius: number;\n    frequency: string;\n    createdAt: string;\n    centerLat: number;\n    centerLng: number;\n    businessName?: string;\n    results: Result[];\n}\n\ninterface RankedBusiness {\n    name: string;\n    rank: number;\n    url?: string;\n    address?: string;\n    rating?: number;\n    reviews?: number;\n}\n\nexport default function ScanReportPage({ params }: { params: Promise<{ id: string }> }) {\n    const router = useRouter();\n    const resolvedParams = use(params);\n    const [scan, setScan] = useState<Scan | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [activeTab, setActiveTab] = useState<'map' | 'list' | 'competitors'>('map');\n    const [selectedPoint, setSelectedPoint] = useState<Result | null>(null);\n    const [expandedRows, setExpandedRows] = useState<Set<string>>(new Set());\n    const [filter, setFilter] = useState<'all' | 'top3' | 'top10' | 'unranked'>('all');\n    const [searchQuery, setSearchQuery] = useState('');\n    const [sharing, setSharing] = useState(false);\n\n    useEffect(() => {\n        const fetchScan = () => {\n            fetch(`/api/scans/${resolvedParams.id}`)\n                .then(res => res.json())\n                .then(data => setScan(data.scan))\n                .catch(console.error)\n                .finally(() => setLoading(false));\n        };\n\n        fetchScan();\n\n        const interval = setInterval(() => {\n            if (scan?.status === 'RUNNING' || scan?.status === 'PENDING') {\n                fetchScan();\n            }\n        }, 5000);\n\n        return () => clearInterval(interval);\n    }, [resolvedParams.id, scan?.status]);\n\n    if (loading) {\n        return (\n            <div className=\"flex items-center justify-center min-h-screen\">\n                <RefreshCw className=\"animate-spin text-gray-400\" />\n            </div>\n        );\n    }\n\n    if (!scan) return <div>Scan not found</div>;\n\n    const totalPoints = scan.gridSize * scan.gridSize;\n    const completedPoints = scan.results.length;\n\n    const avgRank = scan.results.reduce((acc, r) => acc + (r.rank || 20), 0) / (completedPoints || 1);\n\n    const getTopResults = (jsonStr: string): RankedBusiness[] => {\n        try {\n            return JSON.parse(jsonStr);\n        } catch (e) {\n            return [];\n        }\n    };\n\n    const toggleRow = (id: string) => {\n        const next = new Set(expandedRows);\n        if (next.has(id)) next.delete(id);\n        else next.add(id);\n        setExpandedRows(next);\n    };\n\n    const filteredResults = scan.results.filter(r => {\n        if (filter === 'top3') return r.rank && r.rank <= 3;\n        if (filter === 'top10') return r.rank && r.rank <= 10;\n        if (filter === 'unranked') return !r.rank;\n        return true;\n    }).filter(r => {\n        if (!searchQuery) return true;\n        const results = getTopResults(r.topResults);\n        return results.some(b => b.name.toLowerCase().includes(searchQuery.toLowerCase()));\n    });\n\n    const handleDelete = async () => {\n        if (!confirm('Are you sure you want to delete this report? This action cannot be undone.')) return;\n        try {\n            const res = await fetch(`/api/scans/${scan.id}`, { method: 'DELETE' });\n            if (res.ok) router.push('/scans');\n        } catch (error) {\n            console.error('Delete failed:', error);\n            alert('Failed to delete scan');\n        }\n    };\n\n    // --- Competitor Analysis Logic ---\n    const competitorsList = (() => {\n        const competitorsMap = new Map<string, {\n            name: string,\n            avgRank: number,\n            appearances: number,\n            top3: number,\n            top10: number,\n            url?: string\n        }>();\n\n        scan.results.forEach(r => {\n            const results = getTopResults(r.topResults);\n            results.forEach(biz => {\n                const entry = competitorsMap.get(biz.name) || {\n                    name: biz.name,\n                    avgRank: 0,\n                    appearances: 0,\n                    top3: 0,\n                    top10: 0,\n                    url: biz.url\n                };\n                entry.appearances += 1;\n                entry.avgRank += biz.rank;\n                if (biz.rank <= 3) entry.top3 += 1;\n                if (biz.rank <= 10) entry.top10 += 1;\n                competitorsMap.set(biz.name, entry);\n            });\n        });\n\n        return Array.from(competitorsMap.values())\n            .map(c => ({ ...c, avgRank: c.avgRank / c.appearances }))\n            .filter(c => c.name.toLowerCase() !== scan.businessName?.toLowerCase())\n            .sort((a, b) => b.appearances - a.appearances || a.avgRank - b.avgRank);\n    })();\n\n    const top3Competitors = competitorsList.slice(0, 3);\n    // --------------------------------\n\n    const handleStop = async () => {\n        if (!confirm('Stop this scan? Results collected so far will be saved.')) return;\n        try {\n            setLoading(true);\n            const res = await fetch(`/api/scans/${scan!.id}/stop`, {\n                method: 'POST'\n            });\n            const data = await res.json();\n\n            if (res.ok) {\n                setScan(data.scan);\n            } else {\n                throw new Error(data.details || data.error || 'Failed to stop');\n            }\n        } catch (error: any) {\n            console.error('Stop failed:', error);\n            alert(`Stop Failed: ${error.message}`);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleRerun = async () => {\n        if (!confirm('Clear all results and rerun this scan from scratch?')) return;\n        try {\n            setLoading(true);\n            const res = await fetch(`/api/scans/${scan.id}/rerun`, {\n                method: 'POST'\n            });\n            const data = await res.json();\n\n            if (res.ok) {\n                setScan(data.scan);\n            } else {\n                throw new Error(data.details || data.error || 'Failed to rerun');\n            }\n        } catch (error: any) {\n            console.error('Rerun failed:', error);\n            alert(`Rerun Failed: ${error.message}`);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleExportXLSX = () => {\n        if (!scan) return;\n        exportToXLSX(scan.keyword, scan.results);\n    };\n\n    const handleExportPDF = () => {\n        if (!scan) return;\n        exportToPDF(scan.keyword, scan.results);\n    };\n\n    const handleShare = async () => {\n        if (sharing) return;\n        const url = window.location.href;\n\n        if (navigator.share) {\n            setSharing(true);\n            try {\n                await navigator.share({\n                    title: `GeoRanker Report: ${scan.keyword}`,\n                    text: `Check out the local ranking report for \"${scan.keyword}\"`,\n                    url: url,\n                });\n            } catch (err: any) {\n                if (err.name !== 'AbortError' && err.name !== 'InvalidStateError') {\n                    console.error('Error sharing:', err);\n                }\n                // Fallback to clipboard if it fails or if the user cancels but we want to be helpful\n                try {\n                    await navigator.clipboard.writeText(url);\n                } catch (clipErr) {\n                    console.error('Clipboard fallback failed:', clipErr);\n                }\n            } finally {\n                setSharing(false);\n            }\n        } else {\n            try {\n                await navigator.clipboard.writeText(url);\n                alert('Report link copied to clipboard!');\n            } catch (err) {\n                console.error('Failed to copy:', err);\n                alert('Failed to copy link. Please copy the URL manually.');\n            }\n        }\n    };\n\n    return (\n        <div className=\"max-w-[1600px] mx-auto space-y-6\">\n            <ScanHeader\n                scan={scan}\n                onStop={handleStop}\n                onRerun={handleRerun}\n                onDelete={handleDelete}\n                onExportXLSX={handleExportXLSX}\n                onExportPDF={handleExportPDF}\n                onShare={handleShare}\n            />\n\n            {/* Competitor Performance Analytics */}\n            <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                    <h2 className=\"text-lg font-black text-gray-900 uppercase tracking-widest flex items-center gap-2\">\n                        <Trophy size={18} className=\"text-blue-600\" />\n                        Top Competitors Detected\n                    </h2>\n                    <Button variant=\"ghost\" size=\"sm\" onClick={() => setActiveTab('competitors')} className=\"text-blue-600 font-bold text-xs uppercase tracking-wider\">\n                        View All Contributions\n                    </Button>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                    {top3Competitors.map((comp, idx) => (\n                        <Card key={idx} className=\"p-4 border-l-4 border-l-blue-500 hover:shadow-lg transition-all\">\n                            <div className=\"flex justify-between items-start mb-3\">\n                                <div className=\"bg-blue-50 text-blue-600 font-black text-[10px] px-2 py-1 rounded uppercase\">Rank #{idx + 1} Share</div>\n                                <span className=\"text-[10px] text-gray-400 font-mono\">Found in {comp.appearances} points</span>\n                            </div>\n                            <h4 className=\"font-bold text-gray-900 truncate mb-2\">{comp.name}</h4>\n                            <div className=\"grid grid-cols-2 gap-2\">\n                                <div className=\"bg-gray-50 p-2 rounded-lg\">\n                                    <p className=\"text-[9px] text-gray-400 uppercase font-bold\">Avg Rank</p>\n                                    <p className=\"text-sm font-black text-gray-900\">#{comp.avgRank.toFixed(1)}</p>\n                                </div>\n                                <div className=\"bg-gray-50 p-2 rounded-lg\">\n                                    <p className=\"text-[9px] text-gray-400 uppercase font-bold\">Top 3 Hits</p>\n                                    <p className=\"text-sm font-black text-emerald-600\">{comp.top3}</p>\n                                </div>\n                            </div>\n                        </Card>\n                    ))}\n                </div>\n            </div>\n\n            <AIInsights avgRank={avgRank} scan={scan} totalPoints={totalPoints} competitors={competitorsList} />\n\n            {/* Main Content Area */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n                {/* Main Map/List View */}\n                <div className=\"lg:col-span-3\">\n                    <Card noPadding className=\"overflow-hidden h-[85vh] flex flex-col border-none shadow-xl ring-1 ring-gray-200\">\n                        {/* Toolkit Bar */}\n                        <div className=\"p-3 border-b border-gray-100 bg-white flex justify-between items-center z-10\">\n                            <div className=\"flex gap-1 bg-gray-100 p-1 rounded-lg\">\n                                <button\n                                    onClick={() => setActiveTab('map')}\n                                    className={`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${activeTab === 'map' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-500 hover:text-gray-800'}`}\n                                >\n                                    Spatial View\n                                </button>\n                                <button\n                                    onClick={() => setActiveTab('list')}\n                                    className={`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${activeTab === 'list' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-500 hover:text-gray-800'}`}\n                                >\n                                    Grid Status\n                                </button>\n                                <button\n                                    onClick={() => setActiveTab('competitors')}\n                                    className={`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${activeTab === 'competitors' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-500 hover:text-gray-800'}`}\n                                >\n                                    Competitors\n                                </button>\n                            </div>\n                            <div className=\"flex items-center gap-3\">\n                                {activeTab === 'competitors' ? (\n                                    <span className=\"text-[10px] text-gray-400 font-bold uppercase tracking-widest\">Market Share analysis</span>\n                                ) : (\n                                    <>\n                                        <div className=\"relative\">\n                                            <Input\n                                                placeholder=\"Search business...\"\n                                                className=\"h-8 w-48 text-xs pl-8 bg-gray-50 border-gray-100\"\n                                                value={searchQuery}\n                                                onChange={(e) => setSearchQuery(e.target.value)}\n                                            />\n                                            <List className=\"absolute left-2.5 top-2 text-gray-400\" size={12} />\n                                        </div>\n                                        <select\n                                            className=\"text-xs font-bold bg-gray-50 border border-gray-100 rounded-md h-8 px-2 outline-none focus:ring-1 focus:ring-blue-500\"\n                                            value={filter}\n                                            onChange={(e) => setFilter(e.target.value as any)}\n                                        >\n                                            <option value=\"all\">All Ranks</option>\n                                            <option value=\"top3\">Top 3 Only</option>\n                                            <option value=\"top10\">Top 10 Only</option>\n                                            <option value=\"unranked\">Unranked</option>\n                                        </select>\n                                    </>\n                                )}\n                                <span className=\"text-[10px] text-gray-400 font-mono tracking-tighter uppercase font-bold\">Progress: {completedPoints}/{totalPoints}</span>\n                            </div>\n                        </div>\n\n                        <div className=\"flex-1 relative bg-gray-50 overflow-hidden\">\n                            {activeTab === 'map' ? (\n                                <MapComponent\n                                    center={[scan.centerLat, scan.centerLng]}\n                                    zoom={13}\n                                    points={scan.results.map(r => ({ ...r, hasData: true })) || []}\n                                    gridSize={scan.gridSize}\n                                    onPointClick={(point) => setSelectedPoint(point as unknown as Result)}\n                                />\n                            ) : activeTab === 'list' ? (\n                                <div className=\"h-full bg-white overflow-y-auto custom-scrollbar\">\n                                    <div className=\"divide-y divide-gray-100\">\n                                        {filteredResults.map((r) => {\n                                            const isExpanded = expandedRows.has(r.id);\n                                            const topResults = getTopResults(r.topResults);\n                                            return (\n                                                <div key={r.id} className=\"transition-all\">\n                                                    <div\n                                                        onClick={() => toggleRow(r.id)}\n                                                        className={`p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors ${isExpanded ? 'bg-blue-50/20 shadow-inner' : ''}`}\n                                                    >\n                                                        <div className=\"flex items-center gap-6\">\n                                                            <div className=\"flex flex-col\">\n                                                                <span className=\"text-[9px] text-gray-400 uppercase font-black tracking-widest mb-1\">Grid Anchor</span>\n                                                                <span className=\"text-xs font-bold text-gray-600\">{r.lat.toFixed(4)}, {r.lng.toFixed(4)}</span>\n                                                            </div>\n                                                            <div className=\"flex flex-col items-center\">\n                                                                <span className=\"text-[9px] text-gray-400 uppercase font-black tracking-widest mb-1\">Positional Rank</span>\n                                                                {r.rank ? (\n                                                                    <Badge variant={r.rank <= 3 ? 'success' : r.rank <= 10 ? 'warning' : 'destructive'} className=\"h-5 font-black text-[10px]\">\n                                                                        #{r.rank}\n                                                                    </Badge>\n                                                                ) : (\n                                                                    <Badge variant=\"outline\" className=\"h-5 text-[10px] font-bold\">MISSING</Badge>\n                                                                )}\n                                                            </div>\n                                                            <div className=\"flex flex-col\">\n                                                                <span className=\"text-[9px] text-gray-400 uppercase font-black tracking-widest mb-1\">Local Entities</span>\n                                                                <span className=\"text-xs font-bold text-gray-800\">{topResults.length} Competitors</span>\n                                                            </div>\n                                                        </div>\n                                                        <div className=\"flex items-center gap-3\">\n                                                            <div className={`p-1.5 rounded-full transition-all ${isExpanded ? 'bg-blue-100 text-blue-600' : 'bg-gray-50 text-gray-400'}`}>\n                                                                {isExpanded ? <ChevronLeft className=\"rotate-90\" size={12} /> : <ChevronRight size={12} />}\n                                                            </div>\n                                                        </div>\n                                                    </div>\n\n                                                    {isExpanded && (\n                                                        <div className=\"bg-gray-50/80 p-5 ml-4 mb-3 mr-4 rounded-b-2xl border-x border-b border-gray-100 shadow-sm animate-in slide-in-from-top-2 duration-200\">\n                                                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                                                                {topResults.map((biz, idx) => (\n                                                                    <BusinessCard\n                                                                        key={idx}\n                                                                        biz={biz}\n                                                                        scan={scan}\n                                                                        compact={true}\n                                                                    />\n                                                                ))}\n                                                            </div>\n                                                        </div>\n                                                    )}\n                                                </div>\n                                            );\n                                        })}\n                                    </div>\n                                </div>\n                            ) : (\n                                <div className=\"h-full bg-white overflow-y-auto no-scrollbar\">\n                                    <div className=\"p-4\">\n                                        <table className=\"w-full text-left text-xs\">\n                                            <thead>\n                                                <tr className=\"border-b border-gray-100\">\n                                                    <th className=\"pb-3 font-black text-gray-400 uppercase tracking-widest\">Business Name</th>\n                                                    <th className=\"pb-3 font-black text-gray-400 uppercase tracking-widest\">Appearances</th>\n                                                    <th className=\"pb-3 font-black text-gray-400 uppercase tracking-widest text-center\">Efficiency</th>\n                                                    <th className=\"pb-3 font-black text-gray-400 uppercase tracking-widest\">Rank Stats</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody className=\"divide-y divide-gray-50\">\n                                                {(() => {\n                                                    const competitorsMap = new Map<string, {\n                                                        name: string,\n                                                        avgRank: number,\n                                                        appearances: number,\n                                                        top3: number,\n                                                        top10: number,\n                                                        other: number\n                                                    }>();\n\n                                                    scan.results.forEach(r => {\n                                                        const results = getTopResults(r.topResults);\n                                                        results.forEach(biz => {\n                                                            const entry = competitorsMap.get(biz.name) || {\n                                                                name: biz.name,\n                                                                avgRank: 0,\n                                                                appearances: 0,\n                                                                top3: 0,\n                                                                top10: 0,\n                                                                other: 0\n                                                            };\n                                                            entry.appearances += 1;\n                                                            entry.avgRank += biz.rank;\n                                                            if (biz.rank <= 3) entry.top3 += 1;\n                                                            else if (biz.rank <= 10) entry.top10 += 1;\n                                                            else entry.other += 1;\n                                                            competitorsMap.set(biz.name, entry);\n                                                        });\n                                                    });\n\n                                                    return Array.from(competitorsMap.values())\n                                                        .map(c => ({ ...c, avgRank: c.avgRank / c.appearances }))\n                                                        .sort((a, b) => b.appearances - a.appearances || a.avgRank - b.avgRank)\n                                                        .map((comp, idx) => (\n                                                            <tr key={idx} className=\"hover:bg-gray-50/50 transition-colors group\">\n                                                                <td className=\"py-4\">\n                                                                    <p className=\"font-black text-gray-900 group-hover:text-blue-600 transition-colors\">{comp.name}</p>\n                                                                    {comp.name.toLowerCase() === scan.businessName?.toLowerCase() && (\n                                                                        <Badge variant=\"blue\" className=\"mt-1\">Target Account</Badge>\n                                                                    )}\n                                                                </td>\n                                                                <td className=\"py-4\">\n                                                                    <div className=\"flex flex-col\">\n                                                                        <span className=\"font-bold text-gray-700\">{comp.appearances} / {totalPoints} Points</span>\n                                                                        <span className=\"text-[10px] text-gray-400\">Visibility: {((comp.appearances / totalPoints) * 100).toFixed(1)}%</span>\n                                                                    </div>\n                                                                </td>\n                                                                <td className=\"py-4\">\n                                                                    <div className=\"flex items-center justify-center gap-4\">\n                                                                        <div className=\"text-center\">\n                                                                            <p className=\"text-[9px] text-gray-400 uppercase font-black mb-1\">Top 3</p>\n                                                                            <p className=\"text-xs font-black text-emerald-600\">{(comp.top3)}</p>\n                                                                        </div>\n                                                                        <div className=\"text-center\">\n                                                                            <p className=\"text-[9px] text-gray-400 uppercase font-black mb-1\">Top 10</p>\n                                                                            <p className=\"text-xs font-black text-amber-500\">{(comp.top10)}</p>\n                                                                        </div>\n                                                                    </div>\n                                                                </td>\n                                                                <td className=\"py-4\">\n                                                                    <div className=\"flex flex-col\">\n                                                                        <span className=\"text-xs font-black text-gray-900\">Avg: #{comp.avgRank.toFixed(1)}</span>\n                                                                        <div className=\"flex h-1.5 w-24 bg-gray-100 rounded-full mt-1.5 overflow-hidden\">\n                                                                            <div className=\"h-full bg-emerald-500\" style={{ width: `${(comp.top3 / comp.appearances) * 100}%` }} />\n                                                                            <div className=\"h-full bg-amber-400\" style={{ width: `${(comp.top10 / comp.appearances) * 100}%` }} />\n                                                                            <div className=\"h-full bg-gray-300\" style={{ width: `${(comp.other / comp.appearances) * 100}%` }} />\n                                                                        </div>\n                                                                    </div>\n                                                                </td>\n                                                            </tr>\n                                                        ));\n                                                })()}\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    </Card>\n                </div>\n\n                {/* Dynamic Sidebar: Results Inspection */}\n                <PinInspectionSidebar selectedPoint={selectedPoint} getTopResults={getTopResults} scan={scan} />\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}